##
## This file is maintained by Ansible - CHANGES WILL BE OVERWRITTEN
##

# Authentication info
AuthType=auth/munge
#AuthInfo=/var/run/munge/munge.socket.2

# slurmDBD info
DbdAddr={{ slurm_dbd_server_ip }}
DbdHost={{ slurm_dbd_server_name }}
#DbdPort=7031
DbdPort={{ slurm_dbd_server_port | default(6819) }}
SlurmUser=slurm
#MessageTimeout=300
DebugLevel=4
#DefaultQOS=normal,standby
LogFile=/var/log/slurm/slurmdbd.log
PidFile=/var/run/slurmdbd.pid
#PluginDir=/usr/lib/slurm
#PrivateData=accounts,users,usage,jobs
#TrackWCKey=yes

# Database info
StorageType=accounting_storage/mysql
#StorageHost=localhost
#StoragePort=1234
StoragePass={{ slurm_dbd_mysql_pass }}
StorageUser=slurm
#StorageLoc=slurm_acct_db

# Purge/Archive options
# breaks due to root squashing
#ArchiveDir=/corral4/slurm/archive
ArchiveDir=/srv/slurm/archive
ArchiveEvents=yes
ArchiveJobs=yes
ArchiveResvs=yes
ArchiveSteps=yes
ArchiveSuspend=yes
ArchiveTXN=yes
ArchiveUsage=yes
PurgeEventAfter=48months
PurgeJobAfter=48months
PurgeResvAfter=48months
PurgeStepAfter=48months
PurgeSuspendAfter=48months
PurgeTXNAfter=48months
PurgeUsageAfter=48months
