---

host_directories:
  - path: /srv/nginx
  - path: /srv/nginx/toolshed.tools/root
    #owner: marten
    #group: marten
  - path: /srv/nginx/galaxy.tools/root
    #owner: marten
    #group: marten
  - path: /srv/nginx/status.galaxyproject.org/root

host_files:
  - src: files/sites/status/index.html
    dest: /srv/nginx/status.galaxyproject.org/root/index.html

nginx_conf_http:
  server_names_hash_bucket_size: 128
  client_max_body_size: 128m
  proxy_read_timeout: 300
  proxy_cache_path: /var/lib/nginx/cache levels=1:2 keys_zone=s3_cache:10m max_size=128m inactive=60m use_temp_path=off
  limit_req_zone: $binary_remote_addr zone=default:10m rate=30r/s
  limit_req_status: 429

nginx_flavor: light

nginx_servers:
  - certbot_redirects

nginx_ssl_servers:
  - wiki
  - galaxydomains
  - toolshed.tools
  - galaxy.tools
  - my.galaxy.training
  - status
  - charts
  - training
  - iwc

certbot_domains:
  - newtrail.galaxyproject.org
  - wiki.g2.bx.psu.edu
  - wiki.galaxyproject.org
  - test.g2.bx.psu.edu
  - main.g2.bx.psu.edu
  - galaxy2.org
  - galaxyworkbench.org
  - repeatme.org
  - g2.bx.psu.edu
  - galaxy.psu.edu
  - galaxycast.org
  - getgalaxy.org
  - galaxy.training
  - new.galaxyproject.org
  - toolshed.tools
  - galaxy.tools
  - my.galaxy.training
  - my.gat.galaxy.training
  - status.galaxyproject.org
  - charts.galaxyproject.org
  - training.galaxyproject.org
  - iwc.galaxyproject.org

nginx_extra_configs:
  - wiki_hub_rewrites.conf

nginx_default_redirect_uri: https://galaxyproject.org/
